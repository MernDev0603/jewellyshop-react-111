(this["webpackJsonp@minimal/minimal-kit-react"]=this["webpackJsonp@minimal/minimal-kit-react"]||[]).push([[17],{1005:function(e,t,r){"use strict";r.d(t,"a",(function(){return y}));var n=r(3),a=r(33),i=r(6),o=r(44),c=r(17),s=r(983),l=(r(346),r(258),r(947),r(933),r(7)),u=r(60),d=r(955),b=r(335),j=r(172),p=(r(960),r(958),r(927),r(928),r(959),r(869),r(336),r(979)),m=(r(31),r(173),r(986),r(1));Object(l.a)("div")((function(e){var t=e.theme;return Object(i.a)({outline:"none",display:"flex",textAlign:"center",alignItems:"center",flexDirection:"column",justifyContent:"center",padding:t.spacing(5,1),borderRadius:t.shape.borderRadius,backgroundColor:t.palette.background.neutral,border:"1px dashed ".concat(t.palette.grey[50032]),"&:hover":{opacity:.72,cursor:"pointer"}},t.breakpoints.up("md"),{textAlign:"left",flexDirection:"row"})}));Object(l.a)("div")((function(e){var t=e.theme;return Object(i.a)({outline:"none",display:"flex",overflow:"hidden",textAlign:"center",position:"relative",alignItems:"center",flexDirection:"column",justifyContent:"center",padding:t.spacing(5,0),borderRadius:t.shape.borderRadius,transition:t.transitions.create("padding"),backgroundColor:t.palette.background.neutral,border:"1px dashed ".concat(t.palette.grey[50032]),"&:hover":{opacity:.72,cursor:"pointer"}},t.breakpoints.up("md"),{textAlign:"left",flexDirection:"row"})}));var h=r(1010),x=r.n(h),g=["error","file","caption","sx"],f=Object(l.a)("div")((function(e){var t=e.theme;return{width:144,height:144,margin:"auto",borderRadius:"50%",padding:t.spacing(1),border:"1px dashed ".concat(t.palette.grey[50032])}})),O=Object(l.a)("div")({zIndex:0,width:"100%",height:"100%",outline:"none",display:"flex",overflow:"hidden",borderRadius:"50%",position:"relative",alignItems:"center",justifyContent:"center","& > *":{width:"100%",height:"100%"},"&:hover":{cursor:"pointer","& .placeholder":{zIndex:9}}}),v=Object(l.a)("div")((function(e){var t=e.theme;return{display:"flex",position:"absolute",alignItems:"center",flexDirection:"column",justifyContent:"center",color:t.palette.text.secondary,backgroundColor:t.palette.background.neutral,transition:t.transitions.create("opacity",{easing:t.transitions.easing.easeInOut,duration:t.transitions.duration.shorter}),"&:hover":{opacity:.72}}}));function y(e){var t=e.error,r=e.file,i=e.caption,l=e.sx,h=Object(a.a)(e,g),y=Object(s.a)(Object(n.a)({multiple:!1},h)),w=y.getRootProps,k=y.getInputProps,C=y.isDragActive,N=y.isDragReject,A=y.fileRejections,q=function(){return Object(m.jsx)(d.a,{variant:"outlined",sx:{py:1,px:2,my:2,borderColor:"error.light",bgcolor:function(e){return Object(u.a)(e.palette.error.main,.08)}},children:A.map((function(e){var t=e.file,r=e.errors,n=t.path,a=t.size;return Object(m.jsxs)(b.a,{sx:{my:1},children:[Object(m.jsxs)(j.a,{variant:"subtitle2",noWrap:!0,children:[n," - ",Object(p.b)(a)]}),r.map((function(e){return Object(m.jsxs)(j.a,{variant:"caption",component:"p",children:["- ",e.message]},e.code)}))]},n)}))})};return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(f,{sx:l,children:Object(m.jsxs)(O,Object(n.a)(Object(n.a)({},w()),{},{sx:Object(n.a)(Object(n.a)({},C&&{opacity:.72}),(N||t)&&{color:"error.main",borderColor:"error.light",bgcolor:"error.lighter"}),children:[Object(m.jsx)("input",Object(n.a)({},k())),r&&Object(m.jsx)(b.a,{component:"img",alt:"avatar",src:Object(o.isString)(r)?r:r.preview,sx:{zIndex:8,objectFit:"cover"}}),Object(m.jsxs)(v,{className:"placeholder",sx:Object(n.a)({},r&&{opacity:0,color:"common.white",bgcolor:"grey.900","&:hover":{opacity:.72}}),children:[Object(m.jsx)(b.a,{component:c.a,icon:x.a,sx:{width:24,height:24,mb:1}}),Object(m.jsx)(j.a,{variant:"caption",children:r?"Update photo":"Upload photo"})]})]}))}),i,A.length>0&&Object(m.jsx)(q,{})]})}},1073:function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return W}));var n=r(967),a=r(7),i=r(76),o=r(338),c=r(3),s=r(14),l=r.n(s),u=r(18),d=r(204),b=r(0),j=(r(535),r(26)),p=r(203),m=r(945),h=r(17),x=r(869),g=r(172),f=r(335),O=r(336),v=r(976),y=r(1078),w=r(972),k=(r(979),r(987)),C=r(38),N=r(340),A=r(1005),q=r(1);function S(e){var t=e.isEdit,r=e.currentUser,n=Object(j.h)(),a=d.c().shape({firstname:d.d().required("Name is required"),lastname:d.d().required("Name is required"),phoneNumber:d.d().required("Phone number is required"),email:d.d().required("Email is required").email(),visitpurpose:d.d().required("Visit purpose is required"),meetingagent:d.d().required("Meeting agent is required"),avatarUrl:d.a().required("Avatar is required")}),i=Object(p.c)({enableReinitialize:!0,initialValues:{firstname:(null===r||void 0===r?void 0:r.name)||"",lastname:(null===r||void 0===r?void 0:r.name)||"",phoneNumber:(null===r||void 0===r?void 0:r.phoneNumber)||"",email:(null===r||void 0===r?void 0:r.email)||"",visitpurpose:(null===r||void 0===r?void 0:r.visitpurpose)||"",meetingagent:(null===r||void 0===r?void 0:r.meetingagent)||"",avatarUrl:(null===r||void 0===r?void 0:r.avatarUrl)||null},validationSchema:a,onSubmit:function(){var e=Object(u.a)(l.a.mark((function e(r,a){var i,o,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=a.setSubmitting,o=a.resetForm,c=a.setErrors,e.prev=1,e.next=4,Object(k.a)(500);case 4:o(),i(!1),enqueueSnackbar(t?"Update success":"Create success",{variant:"success"}),n(C.c.user.list),e.next=15;break;case 10:e.prev=10,e.t0=e.catch(1),console.error(e.t0),i(!1),c(e.t0);case 15:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t,r){return e.apply(this,arguments)}}()}),o=i.errors,s=i.values,S=i.touched,U=i.handleSubmit,W=i.isSubmitting,I=i.setFieldValue,R=i.getFieldProps,z=Object(b.useCallback)((function(e){var t=e[0];t&&I("avatarUrl",Object(c.a)(Object(c.a)({},t),{},{preview:URL.createObjectURL(t)}))}),[I]);return Object(q.jsx)(p.b,{value:i,children:Object(q.jsx)(p.a,{noValidate:!0,autoComplete:"off",onSubmit:U,children:Object(q.jsxs)(x.a,{spacing:3,sx:{mt:-10},children:[Object(q.jsxs)(x.a,{children:[t&&Object(q.jsx)(N.a,{color:"active"!==s.status?"error":"success",sx:{textTransform:"uppercase",position:"absolute",top:24,right:24},children:s.status}),Object(q.jsx)(g.a,{variant:"subtitle1",sx:{fontSize:"32px",color:"#00000060",fontWeight:"900",display:"flex",justifyContent:"center"},children:"Add a New Visitor"}),Object(q.jsx)(g.a,{variant:"subtitle1",sx:{fontWeight:"bold",mt:3},children:"Take Photo"}),Object(q.jsx)(g.a,{variant:"subtitle2",children:"Upload an image to make it easily recognizable."}),Object(q.jsx)(f.a,{sx:{my:3},children:Object(q.jsx)(A.a,{accept:"image/*",file:s.avatarUrl,maxSize:3145728,onDrop:z,error:Boolean(S.avatarUrl&&o.avatarUrl),caption:Object(q.jsx)(f.a,{sx:{mt:5,display:"flex",justifyContent:"center"},children:Object(q.jsx)(O.a,{variant:"contained",sx:{color:"white",backgroundColor:"#916A00",boxShadow:"0 0px 0px #fff",py:"7px",px:"22px","&:hover":{backgroundColor:"#916A00"},fontSize:"14px",fontWeight:"700"},startIcon:Object(q.jsx)(h.a,{icon:"mdi:cloud-upload",color:"white",width:"20",height:"20"}),children:"Take Image"})})})}),t&&Object(q.jsx)(v.a,{labelPlacement:"start",control:Object(q.jsx)(y.a,{onChange:function(e){return I("status",e.target.checked?"banned":"active")},checked:"active"!==s.status}),label:Object(q.jsxs)(q.Fragment,{children:[Object(q.jsx)(g.a,{variant:"subtitle2",sx:{mb:.5},children:"Banned"}),Object(q.jsx)(g.a,{variant:"body2",sx:{color:"text.secondary"},children:"Apply disable account"})]}),sx:{mx:0,mb:3,width:1,justifyContent:"space-between"}})]}),Object(q.jsxs)(x.a,{spacing:3,children:[Object(q.jsxs)(x.a,{children:[Object(q.jsx)(g.a,{variant:"subtitle1",children:"2. Customer Details"}),Object(q.jsx)(g.a,{variant:"subtitle2",sx:{ml:2},children:"Enter applicant details below."})]}),Object(q.jsxs)(x.a,{direction:{xs:"column",sm:"row"},spacing:{xs:3,sm:2},children:[Object(q.jsx)(w.a,Object(c.a)(Object(c.a)({fullWidth:!0,label:"First Name"},R("name")),{},{error:Boolean(S.name&&o.name),helperText:S.name&&o.name})),Object(q.jsx)(w.a,Object(c.a)(Object(c.a)({fullWidth:!0,label:"Last Name"},R("name")),{},{error:Boolean(S.name&&o.name),helperText:S.name&&o.name}))]}),Object(q.jsx)(x.a,{direction:{xs:"column",sm:"row"},spacing:{xs:3,sm:2},children:Object(q.jsx)(w.a,Object(c.a)(Object(c.a)({fullWidth:!0,label:"Phone Number"},R("phoneNumber")),{},{error:Boolean(S.phoneNumber&&o.phoneNumber),helperText:S.phoneNumber&&o.phoneNumber}))}),Object(q.jsx)(x.a,{children:Object(q.jsx)(w.a,Object(c.a)(Object(c.a)({fullWidth:!0,label:"Email Address"},R("email")),{},{error:Boolean(S.email&&o.email),helperText:S.email&&o.email}))}),Object(q.jsx)(x.a,{children:Object(q.jsx)(w.a,Object(c.a)(Object(c.a)({fullWidth:!0,label:"Visit Purpose"},R("visitpurpose")),{},{error:Boolean(S.visitpurpose&&o.visitpurpose),helperText:S.visitpurpose&&o.visitpurpose}))}),Object(q.jsx)(x.a,{children:Object(q.jsx)(w.a,Object(c.a)(Object(c.a)({fullWidth:!0,label:"Meeting Agent"},R("meetingagent")),{},{error:Boolean(S.meetingagent&&o.meetingagent),helperText:S.meetingagent&&o.meetingagent}))}),Object(q.jsx)(f.a,{sx:{mt:6,display:"flex",justifyContent:"center"},children:Object(q.jsx)(m.a,{type:"submit",variant:"contained",loading:W,sx:{color:"white",backgroundColor:"#916A00",boxShadow:"0 0px 0px #fff",py:"7px",px:"22px",mt:3,"&:hover":{backgroundColor:"#916A00"},fontSize:"14px",fontWeight:"500"},children:"Add New Visitor"})})]})]})})})}var U=Object(a.a)("div")((function(e){return{maxWidth:480,margin:"auto",display:"flex",minHeight:"100vh",flexDirection:"column",justifyContent:"center",padding:e.theme.spacing(12,0)}}));function W(){Object(i.a)().themeStretch;return Object(q.jsx)(o.a,{title:"Gate | Add Visitor",children:Object(q.jsx)(n.a,{maxWidth:"lg",children:Object(q.jsx)(U,{children:Object(q.jsx)(S,{})})})})}},979:function(e,t,r){"use strict";r.d(t,"a",(function(){return i})),r.d(t,"d",(function(){return o})),r.d(t,"c",(function(){return c})),r.d(t,"b",(function(){return s}));r(44);var n=r(988),a=r.n(n);function i(e){return a()(e).format(Number.isInteger(e)?"$0,0":"$0,0.00")}function o(e){return a()(e/100).format("0.0%")}function c(e){return a()(e).format()}function s(e){return a()(e).format("0.0 b")}},987:function(e,t,r){"use strict";function n(e){return new Promise((function(t){return setTimeout(t,e)}))}r.d(t,"a",(function(){return n}))}}]);
//# sourceMappingURL=17.cf2a070a.chunk.js.map